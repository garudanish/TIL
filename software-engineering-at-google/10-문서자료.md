# Chapter 10. 문서자료

- 모든 소프트웨어 엔지니어가 자신의 경력 내내 문서자료의 품질과 양이 아주 부족하다고 토로해왔다.
- 대부분의 문서자료는 소프트웨어 엔지니어 스스로가 작성해야 한다.
- 구글에서 문서자료를 개선하고자 해본 시도 중 가장 성공적이었던 방법은 **문서자료를 코드처럼 취급**하여 엔지니어링 워크플로에 통합하는 것이었다.

## 10.1 문서자료란?

- 문서자료는 엔지니어가 작업을 끝마치기 위해 작성해야 하는 모든 부수적인 텍스트를 의미한다.
- 별도로 작성한 문서뿐 아니라 코드 주석까지 포함된다.

## 10.2 문서자료가 필요한 이유

- 양질의 문서자료는 다음의 이점을 제공한다:
  - 코드와 API가 이해하기 더 쉬워지고 실수가 줄어든다.
  - 자신들의 설계목표와 팀의 목표가 활자로 명확하게 적혀있을 때 역량을 더 집중하게 된다.
  - 수동으로 해야 하는 일은 절차가 잘 기술되어 있어야 쉬워진다.
  - 새로운 인력을 팀이나 코드베이스에 안착시키는 데 드는 노력 역시 프로세스가 기술되어 있다면 훨씬 줄어든다.
- 문서자료에 들인 노력은 날이 갈수록 가치가 커진다.
- 문서자료의 혜택이 바로 작성자에게 돌아오지 않으므로 엔지니어들이 '덜 중요하게' 생각하곤 한다.
- 엔지니어에게 문서자료를 보다 쉽게 작성할 수 있도록 도와주는 방법을 생각해야 한다.
- 가장 큰 혜택은 문서자료를 읽는 이들에게 돌아간다.

## 10.3 문서자료는 코드와 같다

- 소프트웨어 엔지니어가 업무에 따라서 여러 언어를 사용하듯, 문서자료도 하나의 도구이자 특정 작업을 완수하기 위해 사용하는 또 하나의 언어이다.
- 구글은 문서자료에도 프로그래밍 언어처럼 규칙, 구문 규정, 스타일 등이 있다.
- 코드처럼 문서에도 소유자가 있다.
- 문서자료는 소스 코드와 밀접하게 연관된 경우가 많으므로 가능한 한 코드처럼 다뤄야 한다.
  - 꼭 따라야 하는 내부 정책과 규칙이 있어야 한다.
  - 버전 관리 시스템에 등록해 관리해야 한다.
  - 관리 책임자를 명시해야 한다.
  - 변경 시 (문서자료가 설명하는 코드와 함께) 리뷰를 거쳐야 한다.
  - 코드상의 버그를 추적하듯 문제를 추적해야 한다.
  - 주기적으로 평가(혹은 테스트)를 받아야 한다.
  - 가능하다면 정확성이나 최신 정보 반영 여부 등을 측정해야 한다.

## 10.4 독자를 알자

- 문서자료의 독자는 사내의 모든 엔지니어와 외부 개발자까지 상당히 다양할 수 있다.
- 항상 주요 독자가 누구인지 알아내고 그 독자를 향해 글을 써야 한다.
- 좋은 문서자료라 해서 완벽할 필요는 없다. 독자에게는 그저 지금 현재의 여러분처럼 해당 도메인에 익숙한 누군가가 필요할 뿐이다.

### 10.4.1 독자 유형

- 다음 중 어느 기준으로 보느냐에 따라 여러 성격의 독자가 있을 수 있다.
  - 경험 수준: 전문 프로그래머, 혹은 프로그래밍 언어조차 낯선 초보 엔지니어
  - 도메인 지식: 팀원, 혹은 최종 API 정도에만 친숙한 사내의 다른 엔지니어
  - 목적: 제공하는 API를 사용해 특정 작업을 수행하거나 급히 정보를 얻어내야 하는 최종 사용자, 혹은 아무에게도 유지보수를 맡기고 싶지 않을 만큼 꼬여 있는 특정 구현마저 기꺼이 책임지려 하는 소프트웨어 전문가
- 대부분의 경우에는 가능한 한 모든 독자에게 적합한 방식으로 쓰는 것이 하나의 요령이다.
- 문서를 짧게 쓰는 게 유리하다.
- 사용자가 문서자료를 접하게 되는 방식에 따라서도 독자를 구분해볼 수 있다.
  - 탐색자: 자신이 원하는 것을 정확히 알고, 읽고 있는 문서자료가 원하는 정보를 담고 있는지를 알고 싶어 하는 엔지니어다. 이런 독자에게는 일관성이 핵심이다.
  - 배회자: 무엇을 원하는지를 정확하게 알지 못하는 사람이다. 이런 독자에게는 명료한 글이 효과적이다.
- 고객(API 사용자)이냐 제공자(프로젝트 팀원)이냐도 중요한 독자 구분 기준이다. 가능하다면 각각의 독자를 위한 문서를 구분해주는 게 좋다.

## 10.5 문서자료 유형

- 하나의 문서는 일반적으로 하나의 목적에 집중해야 한다.

### 10.5.1 참조용 문서자료

- 참조용 문서자료는 코드베이스에 속한 코드의 사용법을 설명하는 문서 모두를 일컫는다.
- 대표적인 예시로 코드 주석이 있다. 코드 주석은 API 주석과 구현 주석으로 나뉜다.
  - API 주석
    - 구체적인 구현방법이나 설계 결정사항은 언급할 필요가 없다.
    - 사용자가 작성자만큼이나 API에 대해 잘 안다고 가정해서는 절대 안 된다.
  - 구현 주석
    - 읽는 이가 도메인 지식을 상당히 갖추고 있다고 가정해도 된다. 단 체계적으로 작성해두는 편이 안전하다.
- 대부분의 참조용 문서자료는 코드베이스 안의 주석을 기초로 작성되고, 그렇게 해야 한다.
- 문서자료를 코드 정의와 함께 두면 문서자료를 찾고 유지보수하기도 더 쉽다.

#### 파일 주석

- 파일에 담겨 있는 내용을 요약해줘야 한다.

#### 클래스 주석

- 해당 클래스(와 구조체)의 목적과 주요 메서드들을 설명하며, '객체'임을 부각하기 위해 보통 클래스 자신을 문장의 주어로 두고 어떻게 동작하는지를 설명하는 형태로 작성한다.

#### 함수 주석

- 함수가 무슨 동작을 하고 무엇을 반환하는지를 설명하며, '능동성'을 부각하기 위해 동사로 시작해야 한다.

### 10.5.2 설계 문서

- 구글의 팀 대부분은 중요한 프로젝트에 착수하기 전에 설계 문서부터 승인받아야 한다.
- 설계 문서 작성은 엔지니어가 새 시스템을 배포하기 전에 첫 번째로 수행해야 하는 일이므로 다양한 문제를 고려해보기에 적절하다.
- 설계 목표를 제시하고 대안이 될 수 있는 설계들의 장점과 단점까지 함께 기술해줘야 한다.
- 제품을 론칭하기 전에 제품이 내세우는 목표와 설계 문서에 적혀 있는 목표가 일치하는지 확인해보면 좋다.

### 10.5.3 튜토리얼

- 프로젝트라면 사전지식 없는 엔지니어라도 '실제로' 무언가를 동작시켜볼 수 있는 'Hello World' 문서가 꼭 필요하다.
- 튜토리얼이 없다면 새로 쓰기 가장 적합한 시점은 누군가가 새로 합류했을 때이다.
- 모든 단계 하나하나에 고유하고 명확한 번호를 붙여주는 게 중요하다.
  - 이 때 사전 설정, 권한, 도메인지식을 가정해선 안 된다. 가정했다면 튜토리얼 앞부분의 사전 요구사항 절에 명시해야 한다.
  - 독자의 행위에 대응하는 시스템 동작에는 번호를 달지 않는다.
- 독자가 한 번에 수행하는 작업은 하나의 단계에서 설명해 각 단계에서 할 일을 헷갈리지 않도록 해야 한다.
  - 독자가 눈으로 확인할 수 있는 입출력이 있다면 별도의 줄에 명시해주는 것이 좋다.

### 10.5.4 개념 설명 문서

- 깊이 있는 설명을 곁을여야 할 때 대체로 해당 API나 시스템의 개요를 알려주는 개념 문서를 첨부한다.
- 이 문서의 핵심 목표는 독자를 이해시키는 것이다.
- 코드 주석을 문서자료계의 단위 테스트에 비유한다면, 개념 문서는 통합 테스트에 해당한다.
- 개념 문서는 전문가에서 초보자까지 많은 독자에게 유익해야 한다.

### 10.5.5 랜딩 페이지

- 랜딩 페이지의 목적을 명확히 인식하고 자세한 정보는 모두 다른 페이지를 가리키는 링크로 채운다.
  - 링크가 너무 많다면 절을 구분해서 페이지를 분류별로 분할하는 게 좋다.

## 10.6 문서자료 리뷰

- 일반적으로 문서자료 역시 리뷰를 거쳐야 한다.
- 기술 문서 리뷰에 효과적인 방식은 크게 세 가지로, 각각 다음 세 가지 측면을 중점적으로 살핀다.
  - 정확성: 해당 주제 전문가가 수행하며, 팀 동료인 경우가 많다. 코드 리뷰 과정에서 함께 다루곤 한다.
  - 명확성: 도메인을 잘 모르는 사람이 수행한다. 팀에 새로 합류한 동료나 해당 API의 고객이 수행한다.
  - 일관성: 테크니컬 라이터나 자원자가 수행한다.
- 한 명 뿐이라도 글을 봐주는 것(리뷰해주는 것)이 낫다.
- 문서화가 엔지니어링 워크플로에 녹아 있다면 문서자료의 품질이 점차 개선된다.

## 10.7 문서화 철학

### 10.7.1 누가, 무엇을, 언제, 어디서, 왜

- 대부분의 기술 문서자료는 '어떻게*HOW*'에 대한 답을 제시해서, 다른 질문들(누가, 무엇을, 언제, 어디서, 왜)을 잊을 때가 많다.
- 처음 두 문단이 끝나기 전에 다음 질문들에 답하도록 시도해보자.
  - 누가: 대상 독자가 누구인지
  - 무엇: 문서의 목적
  - 언제: 문서가 생성되고, 리뷰되고, 갱신된 날짜
  - 어디서: 문서가 존재해야 할 장소
  - 왜: 문서의 목적. 문서를 읽은 독자가 무엇을 얻어가기를 바라는지를 요약한다.

### 10.7.2 시작, 중간, 끝

- 대부분의 문서에는 최소 시작, 중간, 끝이 포함되어야 한다.
- 절들은 내용 흐름을 논리적 조각으로 나눠주고 독자에게 문서가 다루는 내용의 로드맵을 제시해준다.
- 문서자료에서는 중복이 때론 유용하다.
  - 각 절의 도입 단락에서 핵심을 요약해 알려준 후, 나머지에서 구체적으로 설명하는 방식이 예시이다.

### 10.7.3 좋은 문서자료의 특징

- 좋은 문서자료는 완전성, 정확성, 명확성 중 (적어도) 하나의 특성을 가진다.
- 좋은 문서란 의도한 역할을 잘 수행하는 문서다.
  - 따라서 하나의 문서에 완전성, 정확성, 명확성 중 둘 이상의 역할을 맡기는 일은 거의 없다.
  - 그리고 역할이 적은 것이 나을 때가 많다
- 문서의 품질을 빠르게 개선하는 방법은 독자가 필요로 하는 게 무엇인지에 집중하는 것이다.

### 10.7.4 문서 폐기하기

- 문서를 버리는 일은 되도록 생기지 않도록 노력해야 하지만, 본래의 목적을 더 이상 수행할 수 없다면 폐기하거나 '폐기 대상'으로 표시해야 한다.

## 10.8 테크니컬 라이터가 필요한 순간

- 엔지니어링팀 대다수가 팀에 필요한 문서자료를 스스로 완벽하게 작성할 수 있다.
  - 팀 안에서는 피드백 루프가 아주 기민하고, 도메인 지식과 가정도 명확하며, 무엇을 요구하는지도 더 분명하다.
  - 다른 이의 도움이 필요한 경우는 팀원 외 독자를 위한 문서를 작성할 때이다.
- 테크니컬 라이터는 희소하기 때문에 소프트웨어 엔지니어들이 일반적인 업무로 취급하지 않는 일에 집중해야 한다.

## 10.9 마치며

- 문서자료는 테스트처럼, 필요하다는 인식이 뿌리내리지는 못했다.
- 엔지니어링 문서자료의 품질을 개선하려면 엔지니어들과 전체 엔지니어링 조직이 '내가 곧 문제이자 해결책임'을 깨우쳐야 한다.

## 10.10 핵심 정리

- 문서자료는 시간이 흐르고 조직 규모가 커질수록 더 중요해진다.
- 문서자료 변경도 기존 개발자 워크플로에 통합되어야 한다.
- 하나의 문서는 하나의 목적에 집중해야 한다.
- 문서자료는 자신이 아니라 독자를 위해 써야 한다.
