# Linux & Terminal

## 학습목표

1. 커널과 쉘에 대해 설명할 수 있다
2. 리눅스의 파일 구조와 root, home directory에 대해서 설명할 수 있다
3. 리눅스 기본 명령어를 사용할 수 있다
4. 터미널에 리눅스 명령어를 입력해 파일을 생성하고 삭제할 수 있다.

## 운영체제 (OS)

윈도우즈, 맥 os, 리눅스 등 컴퓨터나 하드웨어를 사용할 수 있게 해주는 프로그램.

OS의 역할: 컴퓨터는 생각보다 멍청하다. 계산을 잘할 뿐 0과 1밖에 모른다. 0과 1이 아닌 다른 걸 들으면 해석할 줄 모른다. 우리가 0, 1로 코딩할 수 없으니 컴퓨터가 알아들을 수 있게끔 바꿔주는 역할을 함.

OS는 크게 쉘과 커널로 나뉜다.

사용자 - 쉘 - 커널 - 하드웨어 순.

- 쉘은 터미널임. 터미널을 자주 사용하게 될 텐데 터미널을 실행하면 터미널에서 실행되는 것이 쉘임. 터미널을 통해서 쉘을 실행하는 것임.
- 커널은 os의 가장 핵심적인 부분. 직접적으로 하드웨어에게 명령을 내리는 부분.
  - 리눅스에는 여러 종류가 있지만 커널은 똑같은 종류를 사용한다

쉘은 사용자가 명령을 내리는 곳이고, 커널은 하드웨어에서 명령을 주고 받는 곳.

## 리눅스 LINUX

왜 리눅스를 써야 하나?

- 오픈 소스이기 때문. 따라서 누구나 자유롭게 사용할 수 있음.
- 멀티태스킹이 가능함. 내가 터미널 여러개 띄워서 각각 다른 작업할 수 있음.
- 서버에 우리가 만든 서비스를 배포할 때 여러 명이 동시에 각각 다른 작업을 하며 배포할 수 있음.
- 리눅스를 다룰 수 있어야 서버를 다룰 수 있는 것임.

리눅스 만드신 분이 깃도 만드심. 깃 이전에도 버전관리 툴이 있었는데 복돌이로 쓰다가 무료로 만들어서 뿌려버림. 대단하신 분이시네;

리눅스의 종류에는 우분투, CentOS, RedHat, 안드로이드 등. 리눅스 **토발즈는 리눅스 커널만 만든 것**임. 하드웨어를 컨트롤하는 가장 중요한 부분만을 만들어서 오픈 소스로 공유했고, 그 오픈 소스를 기반으로 다양한 종류의 리눅스가 나오게 된 것임.

리눅스의 두 가지 형태: CLI, GUI.

- CLI는 터미널을 cli라고 함. 까만화면에 흰 글씨.
- GUI는 윈도우 화면 같이 마우스로 클릭해서 작업할 수 있는 환경임.

우리 입장에선 gui가 더 직관적이고 익숙하고 더 편한데, gui로 할 수 있긴 하지만 위코드 안에서 대부분 cli로 함. 그 이유는 결국 우리가 나중에 서버를 관리해야 하는데, 서버는 많이 떨어져 있고 원격으로 접속해야 함. 원격 접속 환경은 다 cli이기 때문에 cli에 익숙해져야 하기 때문. git도 gui로 할 수 있지만 커맨드로 할 거고, 디렉토리 옮기고 만들고 하는 것도 다 커맨드로 할 거임. cli에서만 가능한 건 있음. 하지만 cli에서 못 하는 것은 없음. cli는 gui로 할 수 있는 모든 것을 할 수 있음.

맥은 유닉스 계열임. 유닉스는 리눅스에 완벽하게 호환은 되지만 리눅스 계열은 아님.

## 리눅스 핵심 개념

### 리눅스 파일 구조

대부분의 리눅스가 갖고 있는 구조가 있으며, 그 구조를 알아야 내가 어디에 있는지, 이 폴더가 무슨 역할을 하는지 알 수 있고, 그래야 cli 환경에서 작업을 할 수 있음.

디렉토리에서 무조건 알아야 하는 것:

- 루트 `/`.  최상위 경로. 모든 리눅스의 파일은 루트로부터 시작됨.
- 홈 `/home/`. 유저의 공간. 윈도우즈의 c:나 바탕화면 정도? 얼마든지 파일을 생성하고 삭제할 수 있는 공간.
- 빈 /bin/. binary의 약자. 리눅스 구동에 필요한 기본적 명령어가 저장돼있음.
- Usr. 배포판에서 만든 설정 등이 모여있는 디렉토리.
- Mnd. mount의 약자. 컴퓨터에 d:, usb와 같은 것들이 설치되면 연결되는 디렉토리.
- Sbin. binary이긴 한데 시스템까지 접근할 수 있는 명령어만 모아 놓은 저장소.

구분 안 하고 섞여있어도 쓸 수 있음. 하지만 나눠놓은 이유는 모든 사람들끼리 모든 리눅스에서 같은 파일 구조를 채택하자고 약속한 것.

#### root` /`

루트 폴터, 최상위 경로, `/` 기호로 접근.

리눅스에서 경로를 나타내는 걸 보면 무조건 `/`로 시작함. 리눅스의 최상위 경로가 `/`이기 때문.

#### 홈 `~`

유저의 공간, `~` 기호로 바로 접근 가능.

터미널을 처음 켜면 나오는 위치는 보통 홈임.

#### /bin

os 최소한의 구동을 위해 필요한 프로그램이 있는 폴더.

기본 명령어들이 저장되어 있다.

### PATH

리눅스는 경로를 가지고 작업을 진행 함. 이동, 생성, 복사, 삭제 등 위치를 기반으로 작업하기 때문에 경로가 매우 중요함. 경로의 종류엔 절대 경로와 상대경로가 있음.

절대경로는 절대적인 경로. 고유 위치. 절대적인 위치. 상대경로는 현재 내 위치로부터의 위치임. 절대경로를 쓰든 상대경로를 쓰든 상관없음. 정확히 사용하기만 하면 됨.

상대경로에서 `.`은 현재 경로, `..`는 상위 경로임.

### 환경 변수

os도 결국엔 프로그램. 나와 컴퓨터가 잘 소통할 수 있게 도와주는 프로그램.

프로그래밍 하다보면 변수를 만드는 것 처럼, os가 구동되는데 필요한 변수를 환경변수라고 부름. 환경변수는 기본적으로 설정된 것도 있고, 추가할 수도 있음. 터미널에 `env`를 치면 환경변수 열람 가능.

`PATH` 변수에 내가 사용하고 싶은 명령어를 저장해둔 폴더를 저장해두면, 해당 경로까지 바로 접근할 수 있음.

`HOME` 변수에 홈 디렉터리 경로가 저장돼 있음. ~을 치거나 터미널을 켰을 때 home 디렉토리로 갈 수 있는 이유 역시 환경 변수에 저장돼있기 때문.

서비스를 만들다 보면 노출되면 안 되는 민감한 정보가 포함돼 있을 수 있음. db 비밀번호 같은 것들. 하지만 그 비밀번호가 필요할 때가 있는데, 그때 그걸 그대로 올려버리면 해커들의 먹잇감이 됨. 그런 민감한 정보를 숨길 때도 환경 변수에 사용함. 다른 프로그램에서 환경변수 접근해서 필요한 환경 변수들만 뽑아서 사용하는 것임.

### config 파일(dot 파일)

리눅스에서는 웬만한 설정을 다 파일로 만듦. 파일을 통해서 환경 설정을 하고, 그러한 설정 파일들은 `.`을 붙이기 때문에 dot 파일이라고도 함. `.`을 맨 앞에 붙인 파일 및 디렉토리는 숨긴 파일로 간주함.

가장 많이 쓰는 쉘이 zsh. `.zshrc`는 zsh를 설정하는 파일임. 터미널을 실행하면 `.zshrc`가 실행되고, 그 파일에 맞게 zsh가 실행되는 것임.

## 터미널 명령어

### pwd

Print working directory. 현재 위치(경로) 확인.

### ~

홈 디렉토리로 이동.

### cd

Change Directory. 디렉토리(폴더) 이동. 절대경로, 상대경로 상관 없이 경로를 작성하면 됨.

### ls

List Segments. 현재 위치의 파일 목록을 출력함.

`ls ~/Desktop/` 식으로 특정 경로의 파일 목록을 출력하는 것도 가능함.

`-a` 옵션을 통해서 숨긴 파일까지 전부 볼 수 있음. 

### mkdir

Make Directory. 디렉토리(폴더) 생성.

### touch

파일 생성.

### vi(파일명.확장자)

파일 편집할 수 있는 에디터인 vim 활성화. vim은 편집 프로그램 중 하나임.

`i`, `esc`, `:wq` 등 명령어를 사용할 수 있음. vim으로 파일을 열 때 오타를 내면 새 파일을 생성함. 그럴 때는 `:q!`를 작성하면 저장하지 않고 끝내는 것이기 때문에 파일이 저장되지 않음.

### cp 복사할-대상 이동시킬-디렉토리

copy 파일 복사

### rm 삭제할-파일

Remove 파일 삭제

### mv 잘라내기할-대상 이동시킬-디렉토리

mv 잘라내기. 파일 이동.

mv를 이용해서 파일 이름을 바꿀 수 있음. 현재 위치에 없는 파일 이름을 작성하면 이름이 바뀜. `mv test.md 32th.md`

### rm -r

remove -recursive 디렉토리(폴더) 삭제

`-r`을 사용하면 디렉토리까지 지울 수 있음.

`rm -rf *` 쓰면 현재 디렉토리 안에 있는 거 다 날라감. 복구도 안 됨. 편하긴 한데 돌이킬 수 없으니까 절대 하지 마!!
