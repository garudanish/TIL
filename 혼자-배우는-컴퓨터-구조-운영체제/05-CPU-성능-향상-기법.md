# Chapter 05. CPU 성능 향상 기법

## 5-1. 빠른 CPU를 위한 설계 기법

### 클럭

- 클럭 속도가 높아지면 CPU는 명령어 사이클을 더 빠르게 반복할 것이고, 다른 부품들도 그에 맞춰 더 빠르게 작동한다.
- 클럭 속도가 높은 CPU는 일반적으로 성능이 좋다.
- 클럭 속도는 헤르츠(Hz) 단위로 측정한다.
- 클럭 속도를 무작정 높이면 발열 문제가 심해진다.
- 클럭 속도를 높이는 것은 CPU를 빠르게 만들 수 있지만, 클럭 속도만으로 CPU를 올리는 것에는 한계가 있다.

### 코어와 멀티 코어

- CPU의 성능을 높이는 방법에는 CPU의 코어와 스레드 수를 늘리는 방법이 있다.
- CPU의 정의로 소개했던 '명령어를 실행하는 부품'은 오늘날 코어라는 용어로 사용된다.
  - CPU의 정의는 '명령어를 실행하는 부품'에서 '명령어를 실행하는 부품을 여러 개 포함하는 부품'으로 범위가 확장되었다.
- 코어를 여러 개 포함하는 CPU를 멀티코어 CPU 또는 멀티코어 프로세서라고 부른다.
- 코어마다 처리할 연산이 적절이 분배되지 않는다면 코어 수에 비례해 연산 속도가 증가하지 않는다.
- 처리하고자 하는 작업량보다 코어 수가 지나치게 많아도 성능에는 크게 영향이 없다.
- 코어마다 처리할 명령어들을 얼마나 적절하게 분배하느냐가 중요하고, 그에 따라 연산 속도가 크게 달라진다.

### 스레드와 멀티스레드

- 스레드의 사전적 의미: 실행 흐름의 단위
- CPU에서 사용되는 하드웨어적 스레드, 프로그램에서 사용되는 소프트웨어적 스레드가 있다.

#### 하드웨어적 스레드

- 스레드의 하드웨어적 정의: 하나의 코어가 동시에 처리하는 명령어 단위
- 여러 스레드를 지원하는 CPU는 하나의 코어로도 여러 개의 명령어를 동시에 실행할 수 있다.
- 하나의 코어로 여러 명령어를 동시에 처리하는 CPU를 멀티스레드 프로세서 또는 멀티스레드 CPU라고 한다.
- 인텔은 자신들의 멀티스레드 기술을 하이퍼스레딩이라고 부른다.

#### 소프트웨어적 스레드

- 스레드의 소프트웨어적 정의: 하나의 프로그램에서 독립적으로 실행되는 단위
- 1코어 1스레드 CPU도 소프트웨어적 스레드를 수십 개 실행할 수 있다.

#### 멀티스레드 프로세서

- 멀티스레드 프로세서의 가장 큰 핵심은 레지스터다.
- 하나의 명령어를 처리하기 위해 꼭 필요한 레지스터를 여러 개 가지고 있으면 하나의 코어로 여러 명령어를 동시에 처리할 수 있다.
- 프로그램 입장에선 2코어가 각각 스레드를 2개씩 갖고 있는 것과 4코어가 각각 스레드를 1개씩 갖고 있는 것과 다를 바가 없다. 그래서 하드웨어 스레드를 논리 프로세서라고 부르기도 한다.
